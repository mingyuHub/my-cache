### my-cahce

### 简介

my-cache是一个轻量级的多级缓存框架，支持本地缓存（一级缓存）及分布式缓存（二级缓存），默认使用Caffeine作为本地缓存，分布式缓存提供接口供开发者自定义实现，
推荐使用redis作为分布式缓存，可快速接入到当前开发的项目中，支持热点分布式缓存自动发现并升级为本地缓存，默认在三十秒内无访问进行删除，当然也支持自定义过期时间


#### 为什么写这个项目

### 设计

 为什么这么做
        1.我们不能规定每个接入的项目必须使用同一种缓存中间件或者框架，比如Redis或者ehcache
        2.更好的灵活性，如果接入方，需要做缓存主备集群双写的话，可以通过自定义实现去解决
     在对比了提供默认分布式缓存与自定义实现分布式缓存的收益后，我决定使用自定义实现

#### 功能

- 基于注解实现，提供多维度缓存设置
- 多级缓存，支持本地缓存（一级缓存）及分布式缓存（二级缓存），分布式缓存支持自定义实现
- 分布式缓存支持自定义实现，接入使用更便捷高效
- 缓存注解支持SePL表达式进行设置，更灵活
- 热点缓存自动发现，并升级为本地缓存
- 支持是否禁用本地缓存
- 支持各级缓存的命中率统计，提供监控面板




#### 生成缓存的key名称
思路：
两个缓存注解共有的参数
    
    /**
     * key前缀
     */
    String prefixKey() default "";

    /**
     * 入参
     * 支持SpEL表达式
     */
    String key() default "";

    /**
     * 拼接key，优先级小于key()
     * @return
     */
    boolean useParams() default true;

如果prefixKey 有值
    判断key的值
        如果有值，则缓存的key名称 = prefixKey:key
        如果没有值，判断useParams是否为true
        如果为true，则缓存的key名称 = prefixKey:方法入参
如果prefixKey 没有值
    则调用KeyGenerator的实现，生成缓存的key名称
    （可以自定义实现）